<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Java备忘录Ⅱ | 35.32</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Java备忘录Ⅱ</h1><a id="logo" href="/.">35.32</a><p class="description">这些表象就是崇高和滑稽</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Java备忘录Ⅱ</h1><div class="post-meta">Apr 10, 2019</div><div class="post-content"><p>第二部分<br><a id="more"></a></p>
<hr>
<p>本篇更多偏重系统类及系统接口</p>
<p>如何理解 String 类对象不能被修改?</p>
<p><a href="https://blog.csdn.net/guyuealian/article/details/50935168" target="_blank" rel="noopener">点击查看</a></p>
<p>如果我们现在想实现一个经常修改的    <code>String</code> 对象，必须使用<code>StringBuilder、StringBuffer</code></p>
<p>StringBuffer 通过查询文档可知，它有个方法是:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> StringBuffer <span class="title">append</span><span class="params">(<span class="keyword">char</span>[] str)</span></span></span><br><span class="line"><span class="function">将 <span class="keyword">char</span> 数组参数的字符串表示形式追加到此序列。</span></span><br><span class="line"><span class="function">按顺序将数组参数中的字符追加到此序列的内容中。此字符将增加该参数的长度。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">该方法的总体效果与以下操作过程的效果相同：先使用 String.<span class="title">valueOf</span><span class="params">(<span class="keyword">char</span>[])</span> 方法将参数转换为字符串，然后将所得字符串的字符追加到此字符序列。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">参数：</span></span><br><span class="line"><span class="function">str - 要追加的字符。</span></span><br><span class="line"><span class="function">返回：</span></span><br><span class="line"><span class="function">此对象的一个引用。</span></span><br></pre></td></tr></table></figure>
<p>也就是说，这个方法的返回值也是StringBuffer 本身，也就是说，我们可以不停地<code>.append</code></p>
<p>范例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no31.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringBuffer_test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		StringBuffer sb = <span class="keyword">new</span> StringBuffer(<span class="string">"Hello"</span>); </span><br><span class="line">		sb.append(<span class="string">"World"</span>).append(<span class="string">"!"</span>);        <span class="comment">//连续append</span></span><br><span class="line">		change(sb);                            <span class="comment">//静态方法，改变sb</span></span><br><span class="line">		System.out.println(sb);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(StringBuffer sb)</span> </span>&#123;</span><br><span class="line">		sb.append(<span class="string">"\n"</span>).append(<span class="string">"This is change"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>String 和       StringBuffer 都继承自  <em>CharSequence</em> 接口</p>
<p>这也就是说，如果有这样一句代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CharSquence  cs = <span class="string">"HelloWorld!"</span>   ;</span><br></pre></td></tr></table></figure>
<p>这意味着 向上转型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(cs);</span><br></pre></td></tr></table></figure>
<p>cs 使用了 String 重写的 toString()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CharSquence  cs = <span class="string">"HelloWorld!"</span>;</span><br><span class="line">cs.append(<span class="string">"!"</span>);   <span class="comment">//正确</span></span><br></pre></td></tr></table></figure>
<hr>
<p>StringBuffer变为String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer sb  = <span class="keyword">new</span> StringBuffer(<span class="string">"HelloWorld!"</span>);</span><br><span class="line">String s = sb.toString();</span><br></pre></td></tr></table></figure>
<p>String 变为StringBuffer</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer sb  = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">sb.append(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></table></figure>
<hr>
<p><strong><em>然后， StringBuffer 类里面其实有很多 类似于  insert， delete 的对字符串进行操作的方法，这里不再一一声明，使用时干脆简单</em></strong></p>
<p>StringBuilder 类于StringBuffer 类大体相同，仅有的不同是:</p>
<p><u>StringBuffer</u> 是同步类 （你去看它文档，里面全都是 synchronized 关键字）</p>
<p><u>StringBuilder</u>是非同步类</p>
<p><a href="https://blog.csdn.net/qq_29244755/article/details/78308636" target="_blank" rel="noopener">Java数字操作类</a></p>
<p>Java 日期操作类</p>
<p>基本观察 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no31.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>  java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Riqichuli</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Date d = <span class="keyword">new</span> Date();</span><br><span class="line">		System.out.println(d);</span><br><span class="line">		System.out.println(d.getTime());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*结果</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Sat Feb 09 16:08:04 CST 2019</span></span><br><span class="line"><span class="comment">1549699684760</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><code>SimpleDateForma</code> 就像是一个日期塑造器，我们首先声明这个制造器是什么样子的，然后通过向里面加入时间，时间经过处理得到指定格式的 日期字符串。</p>
<p>SimpleDateFormat 类数据有几个基本方法:</p>
<p><strong>.format()</strong> ：将Date型转化为String型</p>
<p><strong>.parse()</strong>：将string转化为日期型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no31.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>  java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Riqichuli</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">		Date d = <span class="keyword">new</span> Date();</span><br><span class="line">		System.out.println(d);</span><br><span class="line">		System.out.println(d.getTime());</span><br><span class="line">		</span><br><span class="line">		Date d1 = <span class="keyword">new</span> Date();</span><br><span class="line">		String sd = <span class="string">"2001-12-12 2-2-22.222"</span>;</span><br><span class="line">	</span><br><span class="line">		SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH-mm-ss.SSS"</span>); <span class="comment">//日期塑造器</span></span><br><span class="line">		String s1 = sdf.format(d1);  <span class="comment">//向塑造器里面加入 日期,就可以塑造出指定格式的日期字符串</span></span><br><span class="line">		Date   d2 = sdf.parse(sd);  <span class="comment">// 想塑造器里面传入 字符串，可以解析成特定格式的日期</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(s1);</span><br><span class="line">		System.out.println(d2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<font color="red">对象数组的排序</font>



<p><strong><em>从 C++ 中理解，要想实现一个结构体数组的排序，结构体里面必须重载一个排序的方法在 Java 之中，若想对一个类进行排序，这个类必须继承自  Comparable 接口， 同时必须覆写 Compareto 方法，好让 Arrary 的 sort 方法知道，究竟是依靠什么进行排序的</em></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no31.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Book</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String title;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Book</span><span class="params">(String title ,<span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.price =price;</span><br><span class="line">		<span class="keyword">this</span>.title =title;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"书名是:："</span> + <span class="keyword">this</span>.title + <span class="string">"价格是:"</span> + <span class="keyword">this</span>.price ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Book o)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(o.price &gt; <span class="keyword">this</span>.price) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(o.price &lt; <span class="keyword">this</span>.price) &#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span> ;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Duixiangshuzubijiao</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Book books[] = <span class="keyword">new</span> Book [] &#123;</span><br><span class="line">				<span class="keyword">new</span> Book(<span class="string">"Java开发"</span>,<span class="number">123.1</span>),</span><br><span class="line">				<span class="keyword">new</span> Book(<span class="string">"Java编程思想"</span>,<span class="number">79.8</span>),</span><br><span class="line">				<span class="keyword">new</span> Book(<span class="string">"数据库开发"</span>,<span class="number">18.1</span>)&#125;;	</span><br><span class="line">		Arrays.sort(books);</span><br><span class="line">		System.out.println(Arrays.toString(books));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过 <u>二叉树</u> 进行CompareAble 对象进行练习:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no31.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node root;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">	<span class="keyword">private</span> Object []res;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> foot ;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"rawtypes"</span>)</span><br><span class="line"><span class="comment">/********************Node节点开始************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span>  Comparable value;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Comparable value)</span> </span>&#123;	</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">private</span> Node left; <span class="comment">//左孩子</span></span><br><span class="line">	<span class="keyword">private</span> Node right; <span class="comment">//右孩子</span></span><br><span class="line">	<span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNode</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.value.compareTo(node.value) &gt; <span class="number">0</span>) &#123;<span class="comment">//node 比当前节点大</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">this</span>.right = node;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">this</span>.right.addNode(node);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;                                   <span class="comment">//node比当前节点小</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">this</span>.left = node;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">this</span>.left.addNode(node);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">toNodeArray</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">this</span>.left.toNodeArray();</span><br><span class="line">			&#125;</span><br><span class="line">			BinaryTree.<span class="keyword">this</span>.res[BinaryTree.<span class="keyword">this</span>.foot ++ ]=<span class="keyword">this</span>.value;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">this</span>.right.toNodeArray();</span><br><span class="line">			&#125; </span><br><span class="line">		&#125;	</span><br><span class="line"> 	&#125;</span><br><span class="line"><span class="comment">/***********************Node节点结束*********************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">""</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Object temp)</span> </span>&#123;  <span class="comment">//向二叉树中添加节点</span></span><br><span class="line">		Comparable temp2 =(Comparable) temp;</span><br><span class="line">		Node  temp3 = <span class="keyword">new</span> Node(temp2);  <span class="comment">//传入的是Obiect对象，转换成 Node对象</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.root == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">this</span>.root = temp3;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">this</span>.root.addNode(temp3);<span class="comment">//交给节点</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>.count ++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> Object[] toArray() &#123; 	<span class="comment">//中序遍历二叉树</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.root == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			foot = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">this</span>.res = <span class="keyword">new</span> Object[<span class="keyword">this</span>.count]; </span><br><span class="line">			<span class="keyword">this</span>.root.toNodeArray();      <span class="comment">//交给节点</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.res;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Book</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String title;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Book</span><span class="params">(String title ,<span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.price =price;	</span><br><span class="line">		<span class="keyword">this</span>.title =title;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"书名是:："</span> + <span class="keyword">this</span>.title + <span class="string">"价格是:"</span> + <span class="keyword">this</span>.price ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Book o)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(o.price &gt; <span class="keyword">this</span>.price) &#123;	</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(o.price &lt; <span class="keyword">this</span>.price) &#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span> ;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Erchashu</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			</span><br><span class="line">		BinaryTree bt = <span class="keyword">new</span> BinaryTree();</span><br><span class="line">		bt.add(<span class="keyword">new</span> Book(<span class="string">"Java开发"</span>,<span class="number">123.1</span>));</span><br><span class="line">		bt.add(<span class="keyword">new</span> Book(<span class="string">"Java编程思想"</span>,<span class="number">9.8</span>));</span><br><span class="line">		bt.add(<span class="keyword">new</span> Book(<span class="string">"数据库开发"</span>,<span class="number">18.1</span>));</span><br><span class="line">		bt.add(<span class="keyword">new</span> Book(<span class="string">"Python网络实战"</span>,<span class="number">14.1</span>));</span><br><span class="line">		Object ob[] = bt.toArray();</span><br><span class="line">		System.out.println(Arrays.toString(ob));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>Java 的反射机制</p>
<p>如果你想知道一个对象的出处，也就是这个对象属于的类是什么，这很容易办到。</p>
<p>几乎每个类都有一个方法叫做：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.getClass();</span><br></pre></td></tr></table></figure>
<p>这样的话，得到出处就很简单了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fanshe</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Date date  = <span class="keyword">new</span> Date();</span><br><span class="line">		System.out.println(date.getClass());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class java.util.Date</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>下面介绍几种常用的完成  <code>反射操作</code>   中的 <code>反</code> 操作也就是取得 类出处 的模板：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fanshe</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Date date  = <span class="keyword">new</span> Date();          <span class="comment">//实例化对象</span></span><br><span class="line">		Class&lt;?&gt; cls = date.getClass() ;  <span class="comment">//看得懂这个模板 </span></span><br><span class="line">		System.out.println(cls);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">结果同上</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fanshe</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Date.class ; </span><br><span class="line">		System.out.println(cls);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">结果同上</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>最常用的一个模板:</p>
<p>你看这个例程并没有导入包，这比上面两个好很多，这样做的好处现在还理解不到</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fanshe</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"java.util.Date"</span>) ; </span><br><span class="line">		System.out.println(cls);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<font color="blue" size="9">反射机制的理解</font>

<p><em>反射机制是什么意思？ 它是用来做什么的？</em></p>
<p>首先观察一下工厂设计模式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span>  <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">implements</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Eating Apples!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Orange</span> <span class="keyword">implements</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Eating Orange!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Factory</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title">chose</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="string">"Apple"</span>.equals(s))&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> Apple();</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"Orange"</span>.equals(s))&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> Orange();</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory_test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">		Fruit f =  Factory.chose(<span class="string">"Orange"</span>);</span><br><span class="line">		f.eat();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>我们清楚地看到了工厂设计模式是怎样运行的，但是我们可以提出这样一个问题：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果我们不断加入新的水果种类，那么程序员就要不仅仅增加新的类，还要在Factory之中加入新的<span class="keyword">if</span> <span class="keyword">else</span>判别</span><br></pre></td></tr></table></figure>
<p>这是繁琐的</p>
<p>先看看改进过后的Factory设计模式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">implements</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"新的苹果!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"吃苹果!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Orange</span> <span class="keyword">implements</span> <span class="title">Fruit</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Orange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"新的橘子!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"吃橘子!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Factory</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title">getInstance</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">		Fruit f = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			f = (Fruit )Class.forName(s).newInstance();  <span class="comment">//反射</span></span><br><span class="line">			&#125;<span class="keyword">catch</span> (Exception e) &#123;&#125;</span><br><span class="line">		<span class="keyword">return</span> f;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Gongchanggaijin</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Fruit f = Factory.getInstance(<span class="string">"no3.no32.package1.Orange"</span>);</span><br><span class="line">		f.eat();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>我们只在 Factory 上改进了一番，我们是这样想的，以往的 Factory 接受一个字符串，然后进行判断，然后进行 返回，这真的好幼稚，我们利用反射， 你瞧，不管你传入的字符串是什么，我只用 找到字符串的 祖先类，就像上面的 那个例子，传入字符串利用反射找到祖先是  Orange ，然后利用 Orange 的 NewInstance 方法，获得Orange 的无参构造实例对象，然后转型成为Fruit 对象，直接返回，一来二去 ，实现智能化、自动化的理想状态。</em></strong></p>
<p>最最重要的是:</p>
<font color="green">我们在Factory 设计模式上遇到的问题就叫做  耦合化 ，旧的工厂设计模式里面有 new 这个关键字，这是耦合化的元凶！ 我们通过 newInstance 联合 反射机制， 成功避免了 繁琐的 耦合状态，这就是反射解耦和</font>



<font color="blue" size="9">反射调用构造方法</font>

<p>观察代码</p>
<p>我们在<code>no4.no11.package1</code>包下有一个<code>Student</code>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no4.no11.package1;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"姓名是:"</span> + name + <span class="string">"年龄是:"</span>+ age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们在<code>no4.no11.package2</code>下有一个<code>StudentTest</code>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no4.no11.package2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"no4.no11.package1.Student"</span>);</span><br><span class="line">		Object obj = cls.newInstance();</span><br><span class="line">		System.out.println(obj);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面两段代码的用意是，在一个包里面，利用反射调用其它包的无参构造方法。</p>
<p>但是第二段执行的时候会报错，因为 <code>Student</code>类并没有无参构造方法</p>
<p>但我们实例化对象就是要用到构造方法不是吗，以前直接用 <code>newInstance</code>十分方便，但别忘了，这个newInstance 也正是无参构造方法呀，一旦实例化的类没有无参构造方法，就像我们的 Sudent 这样，那么我们就不能这样用。</p>
<p>我们使用  <strong>getConstructor</strong> 尝试获取类的构造方法</p>
<p>主程序改进如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no4.no11.package2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"no4.no11.package1.Student"</span>);</span><br><span class="line">		Constructor&lt;?&gt; con = cls.getConstructor(String.class, <span class="keyword">int</span>.class);</span><br><span class="line">		Object obj = con.newInstance(<span class="string">"小王"</span>,<span class="number">23</span>);</span><br><span class="line">		System.out.println(obj);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第一行 ： 获取反射的类</p>
<p>第二行： 用反射类得到构造方法</p>
<p>第三行： 用构造方法得到实例化对象</p>
<p>第四行： 输出实例化对象</p>
<p><strong>总结</strong>： 改进了一下，成功了，但是你想想，问题的源头就是我们没有在<code>Student</code>中留存一个 无参构造，否则直接newInstance 多么直接简单啊。</p>
<hr>
<font color="blue" size="9">利用反射获得对象方法</font>

<p>产生实例化对象的三种方式是：</p>
<ol>
<li>new</li>
<li>clone</li>
<li>reflect （反射）</li>
</ol>
<p>观察如下代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no4.no11.package2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"no4.no11.package1.Student"</span>);</span><br><span class="line">		Object obj = cls.newInstance(); <span class="comment">//实例化对象</span></span><br><span class="line">		</span><br><span class="line">		String fieldname = <span class="string">"name"</span>;</span><br><span class="line">		</span><br><span class="line">		Method setmet = cls.getMethod(<span class="string">"set"</span>+ Initcap(fieldname),String.class);  <span class="comment">//得到setter方法</span></span><br><span class="line">		Method getmet = cls.getMethod(<span class="string">"get"</span>+ Initcap(fieldname)); 				<span class="comment">//得到getter方法</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*方法必须有实例化对象, invoke 是调用；作用于 的意思 */</span></span><br><span class="line">		setmet.invoke(obj, <span class="string">"小王"</span>); 		<span class="comment">//setmet 作用于obj， 这相当于 setName("小王");</span></span><br><span class="line">		System.out.println(getmet.invoke(obj));				<span class="comment">//getmet 作用于obj， 这相当于 getName()；</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">Initcap</span><span class="params">(String s )</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (s.substring(<span class="number">0</span>,<span class="number">1</span>).toUpperCase() + s.substring(<span class="number">1</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>观察注释，可理解到通过反射获得方法之后，方法需要作用于对象才能够起效果。</p>
<hr>
<hr>
<hr>
<font color="red" size="9"> IO操作</font>

<p>要想进行所有文件及问文件内容的开发，应该使用Java.io包完成，而 java.io 的知识可以分为 五个核心类，一个核心接口。</p>
<blockquote>
<p> 五个核心类： File , InputStream , OutputStream , Reader , Writer</p>
<p> 一个核心接口：Serializable</p>
</blockquote>
<p>其中，File 类是唯一一个于文件操作本身（创建，删除）有关的类，但是不涉及文件的而具体内容。</p>
<p>首先要通过它提供的构造方法定义一个要操作的文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOperations</span> </span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File  file1 = <span class="keyword">new</span> File(<span class="string">"D:\\1.txt"</span>);     			<span class="comment">//构造方法要求接收路径字符串</span></span><br><span class="line">		System.out.println(file1.createNewFile());        <span class="comment">//D盘下新建 1.txt文件</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>​    file1.delete();    // 删除file1文件</p>
</blockquote>
<blockquote>
<p>​    file1.exists();      //判断文件是否存在，返回布尔值</p>
</blockquote>
<p>​    <em>这也就是基本的文件创建和删除等基本操作</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">但是这里提出一个小问题，也就是说，虽然在 windows 下的分隔符是 \ ,但是在 Linux 下的分隔符却是 / ,因此，我们在Windows系统上开发的程序部署到Linux上的时候很有可能出现路径错误，这个问题说大不大，说小不小，值得注意，所以，我们以后就使用这样的方式描述分隔符(以上面的文件路径为例)：</span><br><span class="line"></span><br><span class="line">(<span class="string">"D："</span> + File.separator + <span class="string">"1.txt"</span>);</span><br></pre></td></tr></table></figure>
<font color="red">关于File 路径的第二个问题</font>

<p>上面的路径是直接在盘上的，如果有这样一个路径呢？</p>
<blockquote>
<p>D:\ \ demo\1.txt</p>
</blockquote>
<p>此时D盘中并不存在 demo 文件夹，能不能一步到位，创建demo文件夹的同时，创建 1.txt呢？</p>
<p>答案是不能</p>
<p> 首先 <code>D: \ \demo</code> 这个路径，是上面路径的<code>父路径</code>，因此，观察下面的代码,  方法名称在下面也列出来了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOperations</span> </span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File  file1 = <span class="keyword">new</span> File(<span class="string">"D:\\demo\\1.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(!file1.getParentFile().exists()) &#123;  <span class="comment">//如果父路径不存在</span></span><br><span class="line">            <span class="comment">//返回值就不同啊。getParentFile()的返回值是File型的。</span></span><br><span class="line">            <span class="comment">//而getParent() 的返回值是String型的。</span></span><br><span class="line">            <span class="comment">//mkdirs是File类里面的方法，所以当然得用f.getParentFile().mkdirs();</span></span><br><span class="line">			<span class="comment">// 用 mkdirs() 方法进行父路径对应文件夹的创建,不管是几级，不管深度，都能一步创建</span></span><br><span class="line">            file1.getParentFile().mkdirs(); </span><br><span class="line">		&#125;</span><br><span class="line">        <span class="comment">/*已经有了父路径*/</span></span><br><span class="line">		System.out.println(file1.createNewFile());        <span class="comment">//D盘下新建 1.txt文件</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>file.length() ;  文件长度</p>
</blockquote>
<blockquote>
<p>file.isFile() ; 返回布尔，判断是否是文件</p>
</blockquote>
<blockquote>
<p>file.isDirectory() ;   返回布尔，判断是否是目录</p>
</blockquote>
<blockquote>
<p>file.lastModified() ; 返回long ，上次修改的时间</p>
</blockquote>
<p>使用如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.sql.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOperations2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:\\my.jpg"</span>);</span><br><span class="line">		System.out.println(<span class="string">"是否是目录: "</span>+file.isDirectory());</span><br><span class="line">		System.out.println(<span class="string">"是否是文件: "</span>+file.isFile());</span><br><span class="line">		System.out.println(<span class="string">"文件大小: "</span>+ <span class="keyword">new</span> BigDecimal((<span class="keyword">double</span>)file.length()/<span class="number">1024</span>/<span class="number">1024</span>).divide(<span class="keyword">new</span> BigDecimal(<span class="number">1</span>),<span class="number">2</span>,BigDecimal.ROUND_HALF_UP)+<span class="string">"M"</span>);</span><br><span class="line">		System.out.println(<span class="string">"上次修改时间: "</span> + <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>).format(<span class="keyword">new</span> Date(file.lastModified())));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>获得一个盘下面所有的文件夹</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FielOperations3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:"</span>+ File.separator);</span><br><span class="line">		<span class="keyword">if</span>(file.isDirectory()) &#123;  <span class="comment">//如果是个路径</span></span><br><span class="line">			File f[] = file.listFiles();</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;f.length;i++) &#123;</span><br><span class="line">				System.out.println(f[i].getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>从这里出发，写一个小的s恶意程序</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no3.no32.package1;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOperations4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String[] str = &#123; <span class="string">"e:"</span>, <span class="string">"f:"</span>, <span class="string">"g:"</span>, <span class="string">"d:"</span> &#125;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length;i++) &#123;</span><br><span class="line">			File file = <span class="keyword">new</span> File(str[i]+ File.separator);	</span><br><span class="line">			print(file);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(file.isDirectory()) &#123;</span><br><span class="line">			File file2[] = file.listFiles();</span><br><span class="line">			<span class="keyword">if</span>(file2 == <span class="keyword">null</span> ) &#123;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;file2.length;i++) &#123;</span><br><span class="line">				print(file2[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">/*  file.delete();   */</span> <span class="comment">//改成删除就是恶性程序</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<font color="blue" size="9">OutputStream 输出流使用</font>

<p>简单的使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no51.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OutPutStreamTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:"</span> + File.separator +  <span class="string">"1.txt"</span>);</span><br><span class="line">		OutputStream output = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		String s = <span class="string">"行车不规范，亲人两行泪。"</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] s2 = s.getBytes();</span><br><span class="line">		output.write(s2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<font color="blue" size="9">字节流和字符流的转换</font>

<font color="blue">因为这样可以方便处理汉字文件</font>

<p>要不是因为妈妈，这会去散散步多好啊！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no51.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.Writer;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZhuanHuanLiu</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:"</span> + File.separator + <span class="string">"demo"</span> + File.separator + <span class="string">"1.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(!file.getParentFile().exists()) &#123;</span><br><span class="line">			file.getParentFile().mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">		OutputStream output = <span class="keyword">new</span> FileOutputStream(file); <span class="comment">//我们的字节流</span></span><br><span class="line">		<span class="comment">//这就是将字节流转换为字符， 把  字节流 传递给OutputStreamWriter()的构造方法</span></span><br><span class="line">        <span class="comment">//然后向上转型为 Writer 型 ，它是字节流和字符流的桥梁</span></span><br><span class="line">        <span class="comment">//我们亲切地称它们为转换类</span></span><br><span class="line">        <span class="comment">//下面的OutputStreamWriter() ，就是一个转换类</span></span><br><span class="line">		Writer wr  = <span class="keyword">new</span> OutputStreamWriter(output);  </span><br><span class="line">		wr.write(<span class="string">"通过字符流进行输出！"</span>);</span><br><span class="line">		wr.flush();                    <span class="comment">//记住,这是字符流啊，你要是不关闭，就不会写入内容</span></span><br><span class="line">		wr.close();					</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<font color="blue">Copy实战</font>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no51.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TuPianKaoBei</span> </span>&#123;</span><br><span class="line">	<span class="meta">@SuppressWarnings</span>(<span class="string">"unused"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(args.length != <span class="number">2</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"输入参数错误"</span>);</span><br><span class="line">			System.exit(<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		File infile = <span class="keyword">new</span> File(args[<span class="number">0</span>]);</span><br><span class="line">		<span class="keyword">if</span>( !infile.exists()) &#123;            <span class="comment">//如果输入文件不存在</span></span><br><span class="line">			System.out.println(<span class="string">"输入源文件不存在"</span>);</span><br><span class="line">			System.exit(<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		File outfile = <span class="keyword">new</span> File(args[<span class="number">1</span>]);</span><br><span class="line">		<span class="keyword">if</span>(!outfile.getParentFile().exists()) &#123; </span><br><span class="line">        <span class="comment">//输出文件的路径不存在，所以我们必须要自己把这个路径创建出来</span></span><br><span class="line">			outfile.getParentFile().mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//实现字节流的创建</span></span><br><span class="line">		OutputStream out = <span class="keyword">new</span> FileOutputStream(outfile);</span><br><span class="line">		InputStream in = <span class="keyword">new</span> FileInputStream(infile);</span><br><span class="line">		<span class="comment">//实现文件的复制</span></span><br><span class="line">		<span class="keyword">byte</span>[] date = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> temp;</span><br><span class="line">		<span class="keyword">if</span>((temp = in.read(date)) != -<span class="number">1</span> ) &#123;</span><br><span class="line">			out.write(date,<span class="number">0</span>,temp);</span><br><span class="line">		&#125;</span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<font color="blue" size="9">TCP C/S模式开发</font>

<p>C/S模式也就是 Client/Server 模式</p>
<p>我们简单开发一个cs模式，主要分两个板块</p>
<ol>
<li>服务端： 一个服务端必须有端口，没有端口就无法让外界进入</li>
<li>客户端： 必须有访问的主机的ip地址，</li>
</ol>
<p><strong>下面是一个服务端的演示，功能是： 服务端取得了客户端的输入流</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no52.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">//下面是一个服务端的演示</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServerTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		ServerSocket server = <span class="keyword">new</span>  ServerSocket(<span class="number">9999</span>);  <span class="comment">//所有服务端必须有个端口,不然外界无法连接</span></span><br><span class="line">		System.out.println(<span class="string">"正在等待客户端连接......"</span>);</span><br><span class="line">		Socket client = server.accept();  <span class="comment">//重中之重，等待一个新客户连接到服务器上</span></span><br><span class="line">		<span class="comment">//第一,PrintStream的 构造方法要求必须传入一个 OutputStream类</span></span><br><span class="line">		<span class="comment">//第二，一个客户，也就是一个 Socket，有一个getOutputStream()方法</span></span><br><span class="line">        <span class="comment">//通过这个方法 可以得到一个  OuputStream</span></span><br><span class="line">        <span class="comment">//服务端取得了客户端的输入流</span></span><br><span class="line">		PrintStream out = <span class="keyword">new</span> PrintStream(client.getOutputStream()); </span><br><span class="line">		out.printf(<span class="string">"%s"</span>,<span class="string">"Hello World!"</span>);</span><br><span class="line">		server.close();</span><br><span class="line">		socket.close();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>下面是一个客户端的演示，功能是： 客户端连接到服务器上面，于是服务器继续执行</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no52.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Socket client = <span class="keyword">new</span> Socket(<span class="string">"localhost"</span>,<span class="number">9999</span>);</span><br><span class="line">		Scanner scan = <span class="keyword">new</span> Scanner(client.getInputStream());</span><br><span class="line">		scan.useDelimiter(<span class="string">"\n"</span>);</span><br><span class="line">		<span class="keyword">if</span>(scan.hasNext()) &#123;</span><br><span class="line">			System.out.println(<span class="string">"【回应数据】"</span>+ scan.next());</span><br><span class="line">		&#125;</span><br><span class="line">		scan.close();</span><br><span class="line">		client.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>上面两个程序一定要连起来看，因为第一个程序执行到</em></strong></p>
<blockquote>
<p>​        Socket client = server.accept();  //重中之重，等待一个新客户连接到服务器上</p>
</blockquote>
<p><strong><em>就停止不会动了，一直到 第二个程序运行，意味着 有客户连接上来了，那么第一个程序就接着执行了</em></strong></p>
<font color="red" size="5">一个比较繁琐的问题</font>

<p>关于 Echo (回声设计) 的</p>
<p>多线程服务端：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no52.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EchoThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Socket client;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EchoThread</span><span class="params">(Socket client)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.client = client;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			</span><br><span class="line">		Scanner scan = <span class="keyword">new</span> Scanner(client.getInputStream());  <span class="comment">//接管新用户的输入部分</span></span><br><span class="line">		PrintStream printer = <span class="keyword">new</span> PrintStream(client.getOutputStream()); <span class="comment">//打印自动机，支持各种格式</span></span><br><span class="line">		<span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">while</span>(flag)&#123;</span><br><span class="line">			<span class="keyword">if</span>(scan.hasNext()) &#123;</span><br><span class="line">				String str = scan.next().trim();</span><br><span class="line">				<span class="keyword">if</span>(str.equalsIgnoreCase(<span class="string">"byebye"</span>)) &#123;</span><br><span class="line">					printer.println(<span class="string">"再见！"</span>);</span><br><span class="line">					flag = <span class="keyword">false</span>;</span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					printer.println(<span class="string">"ECHO: "</span>+ str);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		scan.close();</span><br><span class="line">		client.close();</span><br><span class="line">		printer.close();</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EchoServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket  server =  <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">		<span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">while</span>(flag) &#123;</span><br><span class="line">			Socket client = server.accept();</span><br><span class="line">			<span class="keyword">new</span> Thread(<span class="keyword">new</span> EchoThread(client)).start();</span><br><span class="line">		&#125;</span><br><span class="line">		server.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>客户端，这样的客户端可以多个:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no52.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">//一个客户</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EchoClient2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Socket client = <span class="keyword">new</span> Socket(<span class="string">"localhost"</span>,<span class="number">9999</span>);  <span class="comment">//新客户</span></span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);    			<span class="comment">//input 保存键盘输入的内容</span></span><br><span class="line">		Scanner scan = <span class="keyword">new</span> Scanner(client.getInputStream()); 				<span class="comment">//从用户的输入流新的Scanner对象</span></span><br><span class="line">		</span><br><span class="line">		input.useDelimiter(<span class="string">"\n"</span>);</span><br><span class="line">		scan.useDelimiter(<span class="string">"\n"</span>);</span><br><span class="line">		</span><br><span class="line">		PrintStream printer  = <span class="keyword">new</span> PrintStream(client.getOutputStream());	 <span class="comment">//用户的输出流??</span></span><br><span class="line">		<span class="keyword">boolean</span> flag =<span class="keyword">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(flag) &#123;</span><br><span class="line">			System.out.print(<span class="string">"请输入要发送的内容： "</span>);</span><br><span class="line">			<span class="keyword">if</span>(input.hasNext()) &#123;</span><br><span class="line">				String str = input.next().trim(); <span class="comment">//屏幕上输入的内容</span></span><br><span class="line">			 	printer.println(str); 	 <span class="comment">//效果是向服务端传递数据，是用户端和客户端的桥梁</span></span><br><span class="line">				<span class="keyword">if</span>(str.equalsIgnoreCase(<span class="string">"byebye"</span>))&#123;	</span><br><span class="line">					flag=  <span class="keyword">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(scan.hasNext()) &#123;<span class="comment">//有人会问，为什么这句执行后才会有加了ECHO的效果呢，很简单，因为如果没有用户端的要求输出，是无法进行处理输出的</span></span><br><span class="line">					System.out.println(scan.next());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		client.close();</span><br><span class="line">		input.close();</span><br><span class="line">		scan.close();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以第一个程序跑一遍，第二个程序多跑几次，模拟一个用户多个服务器，可以明白，原来</p>
<p><strong>服务器和客户端的桥梁，就是那个 inputStream 和 outputStream 的流 ， 服务器像做菜一样把这个数据流进行处理，因为我们知道，上面两个程序里面，真正起到屏幕打印功能的只有 第二个程序的倒数第四行具体代码，其他的那个 printer 的 println 方法其实是向 数据流里面写入或者写出数据的啊，我们向频幕输入的数据，在流里面 经过服务器的处理，再被服务器写进流里面作为输出流，一端的输出流是一端的输入流，这个输出流最后被用户端打印用 输入流 接收，最后打印在客户端屏幕上。</strong></p>
<hr>
<p><code>Java中的List</code></p>
<p>直接看代码示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no53.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String title;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Book</span><span class="params">(String title, <span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.price = price;</span><br><span class="line">		<span class="keyword">this</span>.title = title;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*@Override</span></span><br><span class="line"><span class="comment">	public boolean equals(Object obj) &#123;</span></span><br><span class="line"><span class="comment">		if(obj == null) &#123;</span></span><br><span class="line"><span class="comment">			return false;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		if(!(obj instanceof Book )) &#123;</span></span><br><span class="line"><span class="comment">			return false;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		if(this == obj) &#123;</span></span><br><span class="line"><span class="comment">			return true;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		Book book = (Book) obj;</span></span><br><span class="line"><span class="comment">		if(this.price == book.price &amp;&amp; this.title == book.title) &#123;</span></span><br><span class="line"><span class="comment">			return true;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		return false;</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span>	<span class="string">"标题是："</span> + <span class="keyword">this</span>.title + <span class="string">"价格是: "</span> + <span class="keyword">this</span>.price+<span class="string">"\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraylistTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		List&lt;Book&gt; all = <span class="keyword">new</span> ArrayList&lt;Book&gt;();</span><br><span class="line">		all.add(<span class="keyword">new</span> Book(<span class="string">"Java开发"</span>,<span class="number">78.5</span>));</span><br><span class="line">		all.add(<span class="keyword">new</span> Book(<span class="string">"Java发"</span>,<span class="number">8.5</span>));</span><br><span class="line">		all.add(<span class="keyword">new</span> Book(<span class="string">"Java开"</span>,<span class="number">7.5</span>));</span><br><span class="line">		System.out.println(all);</span><br><span class="line">        <span class="comment">//没equals不能删除成功，凡是需要做比较工作的对象，其内部必须有equals方法的覆写</span></span><br><span class="line">		all.remove(<span class="keyword">new</span> Book(<span class="string">"Java开"</span>,<span class="number">7.5</span>));</span><br><span class="line">        <span class="comment">//没有equals也可以删除成功，使用下标的删除不用要求对象对equals进行复写 </span></span><br><span class="line">		all.remove(<span class="number">0</span>);          			 </span><br><span class="line">		System.out.println(all);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>从今以后，凡是牵扯到集合的输出，都用<code>Iterator</code>(迭代器)</p>
<p>Iterator 就是一个 迭代器，可以这样初始化一个迭代器，我们以Set的迭代器为例为例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; books = <span class="keyword">new</span> HashSet&lt;String&gt;(); <span class="comment">// 初始化一个Set , Set不允许重复</span></span><br><span class="line">books.add(<span class="string">"test1"</span>);</span><br><span class="line">books.add(<span class="string">"test2"</span>);</span><br><span class="line">books.add(<span class="string">"test2"</span>);	</span><br><span class="line">books.add(<span class="string">"test4"</span>);</span><br><span class="line">books.add(<span class="string">"test3"</span>);</span><br><span class="line"><span class="comment">//Set对象拥有 Itetator 方法，从而生成一个构造器</span></span><br><span class="line"><span class="comment">//把Iterator看作 集合的一个方法，返回值是一个迭代器</span></span><br><span class="line">Iterator&lt;String&gt; iterator = books.iterator();</span><br><span class="line">      <span class="comment">//迭代器可以这样输出</span></span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext()) &#123;</span><br><span class="line">	String temp = iterator.next(); <span class="comment">//自动驱使迭代器向后迭代</span></span><br><span class="line">	System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>Java中的map</p>
<p>比较好理解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no53.package1;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Map&lt;Integer , String&gt;  map= <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">		map.put(<span class="number">1</span>, <span class="string">"第一"</span>);</span><br><span class="line">		map.put(<span class="number">2</span>, <span class="string">"第二"</span>);</span><br><span class="line">		map.put(<span class="number">3</span>, <span class="string">"第三"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(map.get(<span class="number">4</span>));            <span class="comment">//这一个不存在的元素 使得key多了一个null</span></span><br><span class="line">		System.out.println(map.get(<span class="number">5</span>));				<span class="comment">//这一个不存在的元素 使得key多了一个null</span></span><br><span class="line">		System.out.println(map.get(<span class="number">6</span>));				<span class="comment">//这一个不存在的元素 使得key多了一个null</span></span><br><span class="line">		</span><br><span class="line">		Set&lt;Integer&gt; temp = map.keySet();      		 <span class="comment">//所有的key的值被输出为一个数组</span></span><br><span class="line">        <span class="comment">//Set集合的输出，用Iterator 完成</span></span><br><span class="line">		Iterator&lt;Integer&gt; iter = temp.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iter.hasNext()) &#123;</span><br><span class="line">			<span class="keyword">int</span> i = iter.next();</span><br><span class="line">			System.out.println(i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">结果如下：</span></span><br><span class="line"><span class="comment">null</span></span><br><span class="line"><span class="comment">null</span></span><br><span class="line"><span class="comment">null</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<p><strong>接下来隆重推出，大名鼎鼎的Stream 类</strong></p>
<p><strong>这个类的特点就是，他就像一个 厨师，对Stream 流进行各种处理和加工，拿集合来说，这是我们喜欢的，因为如果不是这样的话，我们对集合中的元素的操作大多是在 循环和遍历中实现的</strong></p>
<p><strong>观察下面例程</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> no5.no53.package1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Set&lt;String&gt; all = <span class="keyword">new</span> HashSet&lt;String&gt;(); <span class="comment">//不允许重复</span></span><br><span class="line">		all.add(<span class="string">"CR7"</span>);</span><br><span class="line">		all.add(<span class="string">"Messi"</span>);</span><br><span class="line">		all.add(<span class="string">"Pogba"</span>);</span><br><span class="line">		all.add(<span class="string">"Matic"</span>);</span><br><span class="line">		all.add(<span class="string">"Rashford"</span>);</span><br><span class="line">		all.add(<span class="string">"Mata"</span>);</span><br><span class="line">		all.add(<span class="string">"Andrew"</span>);</span><br><span class="line">		Stream&lt;String&gt; stream = all.stream();</span><br><span class="line">		List&lt;String&gt; newAll = stream.distinct().filter((x)-&gt;x.contains(<span class="string">"a"</span>)                                                     |x.contains(<span class="string">"A"</span>)).collect(Collectors.toList());</span><br><span class="line">		newAll.forEach(System.out :: println);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中上面是个简单的Set初始化，添加元素</p>
<p>这句是 初始化用一个stream对象</p>
<blockquote>
<p>Stream<string> stream = all.stream();</string></p>
</blockquote>
<p>这句话是对 stream流中 的 元素 进行批量的操作，主要是几个功能</p>
<ol>
<li>去重</li>
<li>用莱姆他表达式进行过滤</li>
<li>收集元素到 list里面</li>
</ol>
<blockquote>
<p>List<string> newAll = stream.distinct().filter((x)-&gt;x.contains(“a”)                                                     |x.contains(“A”)).collect(Collectors.toList());</string></p>
</blockquote>
<p><strong><em>结果如下</em></strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Matic</span><br><span class="line">Mata</span><br><span class="line">Andrew</span><br><span class="line">Pogba</span><br><span class="line">Rashford</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a class="pre" href="/2019/04/10/Java备忘录Ⅲ/">Java备忘录Ⅲ</a><a class="next" href="/2019/02/02/原谅我不明白你的悲伤/">旧病</a></div><div id="container"></div><link rel="stylesheet" href="https://35p32.github.io/gitment/style/default.css"><script src="https://35p32.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  owner: '35p32## Your GitHub ID, e.g. username',
  repo: 'cogito',
  oauth: {
    client_id: 'e40571b1a5ccce57c5c4## GitHub client ID, e.g. 75752dafe7907a897619',
    client_secret: 'e7020e3140ee19bf8bea9bceece0133736bc5057',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/前端基础/" style="font-size: 15px;">前端基础</a> <a href="/tags/Flutter/" style="font-size: 15px;">Flutter</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/complier/" style="font-size: 15px;">complier</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/话/" style="font-size: 15px;">话</a> <a href="/tags/lisp/" style="font-size: 15px;">lisp</a> <a href="/tags/ACM/" style="font-size: 15px;">ACM</a> <a href="/tags/MachineLearning/" style="font-size: 15px;">MachineLearning</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/04/12/Flutter简单购物实例分析/">Flutter简单购物实例分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/10/匿名内部类导致内存泄露/">匿名内部类如何导致内存泄漏?</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/10/Android开发总结/">Android总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/10/Java备忘录Ⅲ/">Java备忘录Ⅲ</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/10/Java备忘录Ⅱ/">Java备忘录Ⅱ</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/02/原谅我不明白你的悲伤/">旧病</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/16/Java备忘录Ⅰ/">Java备忘录Ⅰ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/31/Lisp扫盲/">Lisp扫盲</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/25/机器学习日记(二)/">机器学习日记_2</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/24/机器学习日记(一)/">机器学习日记_1</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=vps%E6%90%AD%E5%BB%BA" title="眼" target="_blank">眼</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">35.32.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>